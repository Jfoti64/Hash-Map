!function(){"use strict";var t=class{constructor(t,e){this.key=t,this.value=e,this.next=null}};const e=new class{constructor(){this.buckets=Array(31).fill(null),this.size=0}hash(t){let e=0;for(let s=0;s<t.length;s+=1)e=(31*e+t.charCodeAt(s))%this.buckets.length;return e}resize(){const e=this.findNextPrime(2*this.buckets.length),s=Array(e).fill(null);this.buckets.forEach((r=>{let n=r;for(;n;){const r=this.rehash(n.key,e),h=new t(n.key,n.value);h.next=s[r],s[r]=h,n=n.next}})),this.buckets=s}static rehash(t,e){let s=0;for(let r=0;r<t.length;r+=1)s=(31*s+t.charCodeAt(r))%e;return s}findNextPrime(t){let e=t;for(;!this.isPrime(e);)e+=1;return e}static isPrime(t){for(let e=2;e<=Math.sqrt(t);e+=1)if(t%e==0)return!1;return!0}set(e,s){this.size/this.buckets.length>.75&&this.resize();const r=this.hash(e),n=new t(e,s);let h=this.buckets[r];if(h){let t=null;for(;h;){if(h.key===e)return void(h.value=s);t=h,h=h.next}t.next=n,this.size+=1}else this.buckets[r]=n,this.size+=1}get(t){const e=this.hash(t);let s=this.buckets[e];if(!s)return null;for(;s;){if(s.key===t)return s.value;s=s.next}return null}has(t){const e=this.hash(t);let s=this.buckets[e];if(!s)return!1;for(;s;){if(s.key===t)return!0;s=s.next}return!1}remove(t){const e=this.hash(t);let s=this.buckets[e];if(!s)return!1;let r=null;for(;s;){if(s.key===t)return r?r.next=s.next:this.buckets[e]=s.next,!0;r=s,s=s.next}return!1}length(){let t=0;return this.buckets.forEach((e=>{let s=e;for(;s;)t+=1,s=s.next})),t}clear(){this.buckets.fill(null)}keys(){const t=[];return this.buckets.forEach((e=>{let s=e;for(;s;)t.push(s.key),s=s.next})),t}values(){const t=[];return this.buckets.forEach((e=>{let s=e;for(;s;)t.push(s.value),s=s.next})),t}entries(){const t=[];return this.buckets.forEach((e=>{let s=e;for(;s;){const e=[s.key,s.value];t.push(e),s=s.next}})),t}};e.set("John","Wayne"),e.set("Brad","Pitt"),console.log(e),console.log(e.length()),console.log(e.entries()),console.log(e.has("Brad"))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VSxHQVNoQixPQVJBdEMsS0FBS0csUUFBUWEsU0FBU0MsSUFDcEIsSUFBSUMsRUFBY0QsRUFDbEIsS0FBT0MsR0FBYSxDQUNsQixNQUFNcUIsRUFBYSxDQUFDckIsRUFBWXBCLElBQUtvQixFQUFZbkIsT0FDakR1QyxFQUFRRixLQUFLRyxHQUNickIsRUFBY0EsRUFBWWpCLElBQzVCLEtBRUtxQyxDQUNULEdEak1GcEMsRUFBSTJCLElBQUksT0FBUSxTQUNoQjNCLEVBQUkyQixJQUFJLE9BQVEsUUFFaEJXLFFBQVFDLElBQUl2QyxHQUVac0MsUUFBUUMsSUFBSXZDLEVBQUlRLFVBRWhCOEIsUUFBUUMsSUFBSXZDLEVBQUlvQyxXQUVoQkUsUUFBUUMsSUFBSXZDLEVBQUk4QixJQUFJLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbm9kZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hhc2hNYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTm9kZSB7XG4gIGNvbnN0cnVjdG9yKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlOyIsImltcG9ydCBIYXNoTWFwIGZyb20gJy4vaGFzaE1hcCc7XG5cbmNvbnN0IG1hcCA9IG5ldyBIYXNoTWFwKCk7XG5cbm1hcC5zZXQoJ0pvaG4nLCAnV2F5bmUnKTtcbm1hcC5zZXQoJ0JyYWQnLCAnUGl0dCcpO1xuXG5jb25zb2xlLmxvZyhtYXApO1xuXG5jb25zb2xlLmxvZyhtYXAubGVuZ3RoKCkpO1xuXG5jb25zb2xlLmxvZyhtYXAuZW50cmllcygpKTtcblxuY29uc29sZS5sb2cobWFwLmhhcygnQnJhZCcpKTtcbiIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5cbmNsYXNzIEhhc2hNYXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1Y2tldHMgPSBBcnJheSgzMSkuZmlsbChudWxsKTtcbiAgICB0aGlzLnNpemUgPSAwOyAvLyBLZWVwIHRyYWNrIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgZW50cmllc1xuICB9XG5cbiAgaGFzaChrZXkpIHtcbiAgICBsZXQgaGFzaENvZGUgPSAwO1xuICAgIGNvbnN0IHByaW1lTnVtYmVyID0gMzE7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGhhc2hDb2RlID0gKHByaW1lTnVtYmVyICogaGFzaENvZGUgKyBrZXkuY2hhckNvZGVBdChpKSkgJSB0aGlzLmJ1Y2tldHMubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaENvZGU7XG4gIH1cblxuICByZXNpemUoKSB7XG4gICAgY29uc3QgbmV3QnVja2V0c1NpemUgPSB0aGlzLmZpbmROZXh0UHJpbWUodGhpcy5idWNrZXRzLmxlbmd0aCAqIDIpO1xuICAgIGNvbnN0IG5ld0J1Y2tldHMgPSBBcnJheShuZXdCdWNrZXRzU2l6ZSkuZmlsbChudWxsKTtcblxuICAgIHRoaXMuYnVja2V0cy5mb3JFYWNoKChidWNrZXQpID0+IHtcbiAgICAgIGxldCBjdXJyZW50Tm9kZSA9IGJ1Y2tldDtcbiAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucmVoYXNoKGN1cnJlbnROb2RlLmtleSwgbmV3QnVja2V0c1NpemUpO1xuICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUoY3VycmVudE5vZGUua2V5LCBjdXJyZW50Tm9kZS52YWx1ZSk7XG4gICAgICAgIG5ld05vZGUubmV4dCA9IG5ld0J1Y2tldHNbaW5kZXhdO1xuICAgICAgICBuZXdCdWNrZXRzW2luZGV4XSA9IG5ld05vZGU7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYnVja2V0cyA9IG5ld0J1Y2tldHM7XG4gIH1cblxuICBzdGF0aWMgcmVoYXNoKGtleSwgbmV3U2l6ZSkge1xuICAgIGxldCBoYXNoQ29kZSA9IDA7XG4gICAgY29uc3QgcHJpbWVOdW1iZXIgPSAzMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaGFzaENvZGUgPSAocHJpbWVOdW1iZXIgKiBoYXNoQ29kZSArIGtleS5jaGFyQ29kZUF0KGkpKSAlIG5ld1NpemU7XG4gICAgfVxuICAgIHJldHVybiBoYXNoQ29kZTtcbiAgfVxuXG4gIGZpbmROZXh0UHJpbWUobnVtKSB7XG4gICAgbGV0IGNhbmRpZGF0ZSA9IG51bTsgLy8gQ3JlYXRlIGEgbG9jYWwgY29weSBvZiBudW1cbiAgICB3aGlsZSAoIXRoaXMuaXNQcmltZShjYW5kaWRhdGUpKSB7XG4gICAgICBjYW5kaWRhdGUgKz0gMTsgLy8gTW9kaWZ5IHRoZSBsb2NhbCBjb3B5IGluc3RlYWQgb2YgdGhlIHBhcmFtZXRlclxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9XG5cbiAgc3RhdGljIGlzUHJpbWUobnVtKSB7XG4gICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gTWF0aC5zcXJ0KG51bSk7IGkgKz0gMSkge1xuICAgICAgaWYgKG51bSAlIGkgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSAvIHRoaXMuYnVja2V0cy5sZW5ndGggPiAwLjc1KSB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5oYXNoKGtleSk7XG4gICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKGtleSwgdmFsdWUpO1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuYnVja2V0c1tpbmRleF07XG5cbiAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICB0aGlzLmJ1Y2tldHNbaW5kZXhdID0gbmV3Tm9kZTtcbiAgICAgIHRoaXMuc2l6ZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcHJldk5vZGUgPSBudWxsO1xuICAgICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGlmIChjdXJyZW50Tm9kZS5rZXkgPT09IGtleSkge1xuICAgICAgICAgIGN1cnJlbnROb2RlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByZXZOb2RlID0gY3VycmVudE5vZGU7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgIH1cbiAgICAgIHByZXZOb2RlLm5leHQgPSBuZXdOb2RlO1xuICAgICAgdGhpcy5zaXplICs9IDE7XG4gICAgfVxuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5oYXNoKGtleSk7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5idWNrZXRzW2luZGV4XTtcblxuICAgIGlmICghY3VycmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gY3VycmVudE5vZGUudmFsdWU7XG4gICAgICB9XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaGFzKGtleSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5oYXNoKGtleSk7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5idWNrZXRzW2luZGV4XTtcblxuICAgIGlmICghY3VycmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbW92ZShrZXkpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaGFzaChrZXkpO1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuYnVja2V0c1tpbmRleF07XG5cbiAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIEVhcmx5IHJldHVybiBpZiB0aGUgYnVja2V0IGlzIGVtcHR5XG4gICAgfVxuXG4gICAgbGV0IHByZXZOb2RlID0gbnVsbDtcbiAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS5rZXkgPT09IGtleSkge1xuICAgICAgICAvLyBJZiBpdCdzIHRoZSBmaXJzdCBub2RlIGluIHRoZSBidWNrZXRcbiAgICAgICAgaWYgKCFwcmV2Tm9kZSkge1xuICAgICAgICAgIHRoaXMuYnVja2V0c1tpbmRleF0gPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSwgYnlwYXNzIHRoZSBjdXJyZW50IG5vZGVcbiAgICAgICAgICBwcmV2Tm9kZS5uZXh0ID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHByZXZOb2RlID0gY3VycmVudE5vZGU7XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxlbmd0aCgpIHtcbiAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICB0aGlzLmJ1Y2tldHMuZm9yRWFjaCgoYnVja2V0KSA9PiB7XG4gICAgICBsZXQgY3VycmVudE5vZGUgPSBidWNrZXQ7XG4gICAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgbGVuZ3RoICs9IDE7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbGVuZ3RoO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5idWNrZXRzLmZpbGwobnVsbCk7IC8vIFJlc2V0IGFsbCBidWNrZXRzIHRvIG51bGxcbiAgfVxuXG4gIGtleXMoKSB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIHRoaXMuYnVja2V0cy5mb3JFYWNoKChidWNrZXQpID0+IHtcbiAgICAgIGxldCBjdXJyZW50Tm9kZSA9IGJ1Y2tldDtcbiAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICBrZXlzLnB1c2goY3VycmVudE5vZGUua2V5KTtcbiAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgdmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIHRoaXMuYnVja2V0cy5mb3JFYWNoKChidWNrZXQpID0+IHtcbiAgICAgIGxldCBjdXJyZW50Tm9kZSA9IGJ1Y2tldDtcbiAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICB2YWx1ZXMucHVzaChjdXJyZW50Tm9kZS52YWx1ZSk7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgZW50cmllcygpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gW107XG4gICAgdGhpcy5idWNrZXRzLmZvckVhY2goKGJ1Y2tldCkgPT4ge1xuICAgICAgbGV0IGN1cnJlbnROb2RlID0gYnVja2V0O1xuICAgICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IGlubmVyQXJyYXkgPSBbY3VycmVudE5vZGUua2V5LCBjdXJyZW50Tm9kZS52YWx1ZV07XG4gICAgICAgIGVudHJpZXMucHVzaChpbm5lckFycmF5KTtcbiAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlbnRyaWVzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhhc2hNYXA7XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJrZXkiLCJ2YWx1ZSIsInRoaXMiLCJuZXh0IiwibWFwIiwiYnVja2V0cyIsIkFycmF5IiwiZmlsbCIsInNpemUiLCJoYXNoIiwiaGFzaENvZGUiLCJpIiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsInJlc2l6ZSIsIm5ld0J1Y2tldHNTaXplIiwiZmluZE5leHRQcmltZSIsIm5ld0J1Y2tldHMiLCJmb3JFYWNoIiwiYnVja2V0IiwiY3VycmVudE5vZGUiLCJpbmRleCIsInJlaGFzaCIsIm5ld05vZGUiLCJOb2RlIiwibmV3U2l6ZSIsIm51bSIsImNhbmRpZGF0ZSIsImlzUHJpbWUiLCJNYXRoIiwic3FydCIsInNldCIsInByZXZOb2RlIiwiZ2V0IiwiaGFzIiwicmVtb3ZlIiwiY2xlYXIiLCJrZXlzIiwicHVzaCIsInZhbHVlcyIsImVudHJpZXMiLCJpbm5lckFycmF5IiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=